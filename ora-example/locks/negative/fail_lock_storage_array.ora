// Expected failure: direct write to the same locked storage array slot.

contract FailLockStorageArray {
    storage var history: [u256; 8];

    pub fn bad(index: u256, value: u256) {
        @lock(history[index]);
        history[index] = value;
        @unlock(history[index]);
    }
}
