// Minimal reproduction for slice[address] + for-loop + map access
// Intended to exercise MLIR lowering and canonicalization for
//   - slice[address] parameter
//   - for (slice) |item| pattern
//   - balances[account] map reads inside the loop

contract StateSliceTest {
    // Storage map from address to balance
    storage balances: map<address, u256>;

    pub fn sumBalances(accounts: slice[address]) -> u256 {
        var total: u256 = 0;
        for (accounts) |account| {
            total = total + balances[account];
        }
        return total;
    }
}
