// INPUT: ora-example/locks/lock_runtime_map_guard.ora
// CHECK-NOT: builtin.unrealized_conversion_cast
// CHECK-LABEL: func.func @write_balance
// CHECK: ora.tstore.guard
// CHECK: balances[user]
// CHECK: ora.map_store
//
// CHECK-LABEL: func.func @safe_different_slot
// CHECK: ora.lock
// CHECK: balances[locked_user]
// CHECK: call @write_balance
// CHECK: ora.unlock
//
// CHECK-LABEL: func.func @unsafe_same_slot
// CHECK: ora.lock
// CHECK: balances[user]
// CHECK: call @write_balance
// CHECK: ora.unlock
